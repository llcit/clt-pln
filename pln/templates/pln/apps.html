{% extends 'pln/base.html' %}
<!-- content  -->
{% block content %}
<!-- Page Contents -->

<div class="row apps">
  <!-- collapse -->
  <hr>
  <div class="panel-group" id="accordion">
    {% for item in apps %}
    <div style="padding-bottom: 4px;" class="col-md-4 col-sm-4">
      <div class="panel panel-info">

	<!-- panel header -->
	<div class="panel-heading" style="height: 48px;" >
	  <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#{{ item.id }}">
	    <img class="img-responsive" src="{{ item.icon }}" alt="N/A" style="float:right;width:32px;">
	    <h5><i class="icon-angle-down"></i>  {{ item.name }}</h5>
	  </a>
	</div>
	<!-- /.panel header -->

	<!-- collapse -->
	<div id="{{ item.id }}" class="panel-collapse collapse">
	  <!-- panel body -->
	  <div class="panel-body">
	    {{ item.description }}
	    <a href="{% url 'app' item_id=item.id %}"> Read More</a>
	    <hr>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Privacy:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		<a href="{{ item.privacy }}">{{ item.privacy | truncatechars:25 }}</a>
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Tutorial:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		<a href="{{ item.tutorial }}">{{ item.tutorial | truncatechars:25 }}</a>
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		URL:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		<a href="{{ item.url }}">{{ item.url | truncatechars:25 }}</a>
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Price:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		{{ item.price }}
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Support:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		{{ item.support }}
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Testimonial:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		{{ itme.testimonial }}
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Functions:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		{% for function in item.functions.all %}
		{{ function }}
		{% if not forloop.last %},{% endif %}
		{% endfor %}
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Formats:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		{% for format in item.formats.all %}
		{{ format }}
		{% if not forloop.last %},{% endif %}
		{% endfor %}
	      </div>
	    </div>

	    <div class="row">
	      <div class="col-md-3 col-sm-3 col-xs-3">
		Types:
	      </div>
	      <div class="col-md-9 col-sm-4 col-xs-4">
		{% for type in item.types.all %}
		{{ type }}
		{% if not forloop.last %},{% endif %}
		{% endfor %}
	      </div>
	    </div>
	  </div>
	  <!-- /.panel body -->
	</div><!-- /.panel-collapse -->

	{% if user.is_authenticated %}
	<!-- panel footer -->
	<div class="panel-footer">
	  <div class="admin-menu">
	    <a class="btn btn-info" href="{% url 'app_edit' item_id=item.id %}">Edit</a>
	    <a class="btn btn-danger" href="{% url 'app_delete' item_id=item.id %}">Delete</a>
	  </div>
	</div>
	<!-- ./panel footer -->
	{% endif %}

      </div><!-- /.panel -->
    </div> <!-- /.column -->
    {% endfor %}
  </div>
</div><!-- /.row -->
{% endblock content %}
<!-- /.contents  -->

{% block filter %}

<h2> PLN Tool Browser</h2>
<p>What is a PLN?</p>

<!-- all tools collapse or -->
<div class="row">
    <a href="#" class="btn btn-info btn-sm pull-right openall"  style="margin-left:5px">Open all tools</a>
    <a href="#" class="btn btn-info btn-sm pull-right closeall">Close all tools</a>
</div><!-- /.end toolscollapse or -->
<br>
<!-- functions -->
<div class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Functions</h3>
  </div>
  <div class="panel-body">
    {% for item in functions %}
    <input class="checkbox-primary" type="checkbox" name="function_chk" value="{{ item.name }}" checked> {{item.name }}
    <br>
    {% endfor %}
  </div>
</div>

<!-- formats -->
<div class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Formats</h3>
  </div>
  <div class="panel-body">
    {% for item in formats %}
    <input class="checkbox-primary" type="checkbox" name"format_chk" value="{{ item.name }}" checked > {{ item.name }}
    <br>
    {% endfor %}
  </div>
</div>
<!-- type -->
<div class="panel panel-success">
  <div class="panel-heading">
    <h3 class="panel-title">Types</h3>
  </div>
  <div class="panel-body">
    {% for item in types %}
    <input class="checkbox-promary" type="checkbox" name="type_chk" value="{{ item.name }}" checked> {{ item.name }}
    <br>
    {% endfor %}
  </div>
</div>

<script>
$('.closeall').click(function(){
  $('.panel-collapse.in')
    .collapse('hide');
});
$('.openall').click(function(){
  $('.panel-collapse:not(".in")')
    .collapse('show');
});
</script>
{% endblock %}
